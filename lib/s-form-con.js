!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=367)}({197:function(e,t,n){},367:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n.n(r),i=n(76);n(197);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={name:"SFormCon",props:{fields:{type:Array,default:function(){return[]}},model:Object,inline:{type:Boolean,default:!0},columns:{type:Number|String,default:1},isQueryForm:{type:Boolean,default:!1},resetExcludeProps:{type:Array,default:function(){return[]}},resetIncludeProps:{type:Array,default:function(){return[]}},showFold:{type:Boolean,default:!0}},render:function(){var e=this,t=arguments[0];(!1===this.showFold||this.$slots.button)&&(this.isfold=!1);var n=this.fields&&this.fields.length>0&&this.fields.map((function(t,n){return e.renderFormItem(t,n)}));return t("s-form",{class:"s-form-con",attrs:l({},l(l({},this.$attrs),{},{inline:this.inline,model:this.model})),on:l({},l({},this.$listeners))},[this.showFoldButton&&t("transition-group",{attrs:{name:"query-form"}},[n])||n,this.isQueryForm&&(this.$slots.button||this.renderQueryBtn())])},data:function(){return{isfold:!0}},computed:{formitemWidth:function(){var e;try{e=100/this.columns,e=isNaN(e)?100:e}catch(t){e=100}return e+"%"},showFoldButton:function(){return this.isQueryForm&&this.fields.length>=this.columns},_resetIncludeProps:function(){if(this.resetIncludeProps.length)return this.resetIncludeProps;var e=[];for(var t in this.model)-1===this.resetExcludeProps.indexOf(t)&&e.push(t);return e}},methods:l(l({},i.default.methods),{},{handleQuery:function(){this.$emit("query",this.model)},handleReset:function(){var e=this;this._resetIncludeProps.forEach((function(t){switch(s(e.model[t])){case"string":e.$set(e.model,t,"");break;case"number":e.$set(e.model,t,0);break;default:e.$set(e.model,t,null)}})),this.$emit("reset",this.model)},handleFold:function(){this.isfold=!this.isfold,this.$emit("fold",this.isfold)},setFold:function(e){this.isfold=!!e},renderQueryBtn:function(){var e=this.$createElement;return e("s-form-item",{style:{width:this.formitemWidth},class:"form-item-query-btn"},[e("s-button",{attrs:{type:"primary"},on:{click:this.handleQuery}},["查询"]),e("s-button",{on:{click:this.handleReset}},["重置"]),this.showFoldButton&&this.showFold&&e("s-button",{attrs:{type:"text"},on:{click:this.handleFold}},[this.isfold?"展开":"收起",e("i",{class:this.isfold?"el-icon-arrow-down":"el-icon-arrow-up"})])])},handleChange:function(e,t,n,r){console.log(e,t,n,r),this.$set(this.model,t,n),this.$emit("change",this.model,t),"function"==typeof r.onChange&&r.onChange(n)},renderFormItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=this.$createElement;return n("s-form-item",{key:"formitem_"+t,style:{width:e.width||this.formitemWidth},class:{"custome-form-item":this.$slots["field_"+e.prop.toLowerCase()]},directives:[{name:"show",value:!this.isQueryForm||this.isQueryForm&&this.isfold&&t<this.columns-1||!this.isfold}],attrs:l({},l({},e))},[this.$slots["field_"+e.prop.toLowerCase()]&&this.$slots["field_"+e.prop.toLowerCase()]||e.is&&this.renderField(e.is,e.prop,e.attrs)])},getDateFormat:function(e){return{year:"yyyy",month:"yyyy-MM",monthrange:"yyyy-MM",date:"yyyy-MM-dd",dates:"yyyy-MM-dd",daterange:"yyyy-MM-dd",week:"yyyy 第 WW 周",datetime:"yyyy-MM-dd HH:mm:ss",datetimerange:"yyyy-MM-dd HH:mm:ss"}[e]},renderField:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.$createElement;switch(e){case"text":return i("div",{class:"field_text"},[this.model[t]]);case"input":return i("s-input",{attrs:l({},l(l({},r),{},{readonly:void 0!==r.readonly?r.readonly:!!r.icon,value:this.model[t]})),on:l({},{input:function(o){n.handleChange(e,t,o,r)}})},[r.icon&&i("s-button",{attrs:{icon:r.icon},slot:"append",on:l({},{click:function(){"function"!=typeof r.onClick&&r.onClick()}})})]);case"radio":return i("s-radio-con",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{input:function(o){n.handleChange(e,t,o,r)}})});case"checkbox":return i("s-checkbox-con",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{change:function(o){n.handleChange(e,t,o,r)}})});case"select":return i("s-select-con",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{change:function(o){n.handleChange(e,t,o,r)}})});case"treeselect":return i("s-treeselect",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{input:function(o){console.log("vvvvv",o),n.handleChange(e,t,o,r)}})});case"input-number":return i("s-input-number",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{input:function(o){n.handleChange(e,t,o,r)}})});case"cascader":return i("s-cascader",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{change:function(o){n.handleChange(e,t,o,r)}})});case"switch":return i("s-switch",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{change:function(o){n.handleChange(e,t,o,r)}})});case"slider":return i("s-slider",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{input:function(o){n.model[t]!==o&&n.handleChange(e,t,o,r)}})});case"time-select":return i("s-time-select",{attrs:l({},l(l({},r),{},{valueFormat:r.valueFormat||"HH:mm:ss",value:this.model[t]})),on:l({},{input:function(o){n.model[t]!==o&&n.handleChange(e,t,o,r)}})});case"time-picker":return i("s-time-picker",{attrs:l({},l(l({},r),{},{valueFormat:r.valueFormat||"HH:mm:ss",value:this.model[t]})),on:l({},{input:function(o){n.model[t]!==o&&n.handleChange(e,t,o,r)}})});case"date-picker":return i("s-date-picker",{attrs:l({},l(l({},r),{},{valueFormat:this.getDateFormat(r.type),value:this.model[t]})),on:l({},{input:function(o){n.model[t]!==o&&n.handleChange(e,t,o,r)}})});case"rate":return i("s-rate",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{input:function(o){n.model[t]!==o&&n.handleChange(e,t,o,r)}})});case"transfer":return i("s-transfer",{attrs:l({},l(l({},r),{},{value:this.model[t]})),on:l({},{input:function(o){n.model[t]!==o&&n.handleChange(e,t,o,r)}})});case"upload":var s=r.props,a=r.listType,u=void 0===a?"text":a,c=r.buttonText,d=r.buttonText2,f=r.iconClass,h=void 0===f?"el-icon-plus":f,p=r.tip,m=r.drag,y=void 0!==m&&m,v=r.autoUpload,b=void 0===v||v,g=this.setFileValue(this.model[t],s),O=this.$scopedSlots["upload_default_"+t.toLowerCase()],w=this.$scopedSlots["upload_file_"+t.toLowerCase()];return i("s-upload",o()([{ref:"upload_"+t},{attrs:l(l({},r),{},{fileList:g,onSuccess:function(o,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r.onSuccess&&r.onSuccess(o,i,s),n.handleFileChange(e,t,s,r)},onError:function(o,i,s){r.onError&&r.onError(o,i,s),n.handleFileChange(e,t,s,r)}}),scopedSlots:w?{file:w}:{}}]),[O&&O({callback:function(){return n.$refs["upload_"+t]}})||this.renderUploadSlot(u,c,d,h,y,b),!b&&i("s-button",{slot:"trigger",attrs:{type:"primary"}},[c||"选取文件"]),!!p&&i("div",{slot:"tip",class:"el-upload__tip"},[p])])}},renderUploadSlot:function(e,t,n,r,o,i){var s=this,a=this.$createElement;return o?a("span",[a("i",{class:"el-icon-upload"}),a("div",{class:"el-upload__text"},["将文件拖到此处，或",a("em",["点击上传"])])]):i?"picture-card"===e?a("i",{class:r||"el-icon-upload"}):a("s-button",{attrs:{type:"primary"}},[t||"点击上传"]):a("s-button",{style:"margin-left: 10px;",attrs:{type:"success"},on:{click:function(){s.$refs.upload.submit()}}},[n||"上传到服务器"])},setFileValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=void 0===n?"name":n,o=t.url,i=void 0===o?"url":o;return"name"===r&&"url"===i?e:e.map((function(e){return Object.assign(e,{name:e[r],url:e[i]})}))},handleFileChange:function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i="function"==typeof o.onFinished&&o.onFinished||function(){},a=0,l=[];n=r[a],a<r.length;){if("uploading"===n.status)return;"success"===n.status&&l.push(n.response&&"object"===s(n.response)?Object.assign(n,n.response):n),a++}i(l,t),this.handleChange(e,t,l,o)}}),component:{},install:function(e){e.component(c.name,c)}};t.default=c},48:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=121)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},121:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("form",{staticClass:"el-form",class:[e.labelPosition?"el-form--label-"+e.labelPosition:"",{"el-form--inline":e.inline}]},[e._t("default")],2)};r._withStripped=!0;var o=n(9),i=n.n(o),s={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(e){e.removeValidateEvents(),e.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",(function(t){t&&e.fields.push(t)})),this.$on("el.form.removeField",(function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(e){e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length?"string"==typeof e?this.fields.filter((function(t){return e===t.prop})):this.fields.filter((function(t){return e.indexOf(t.prop)>-1})):this.fields;t.forEach((function(e){e.clearValidate()}))},validate:function(e){var t=this;if(this.model){var n=void 0;"function"!=typeof e&&window.Promise&&(n=new window.Promise((function(t,n){e=function(e){e?t(e):n(e)}})));var r=!0,o=0;0===this.fields.length&&e&&e(!0);var s={};return this.fields.forEach((function(n){n.validate("",(function(n,a){n&&(r=!1),s=i()({},s,a),"function"==typeof e&&++o===t.fields.length&&e(r,s)}))})),n||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var n=this.fields.filter((function(t){return-1!==e.indexOf(t.prop)}));n.length?n.forEach((function(e){e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){if(e&&t){var n=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(n,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){var t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},a=n(0),l=Object(a.a)(s,r,[],!1,null,null,null);l.options.__file="packages/form/src/form.vue";var u=l.exports;u.install=function(e){e.component(u.name,u)};t.default=u},9:function(e,t){e.exports=n(5)}})},5:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(e[o]=i)}}return e}},6:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}var o=["attrs","props","domProps"],i=["class","style","directives"],s=["on","nativeOn"],a=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==o.indexOf(n))e[n]=r({},e[n],t[n]);else if(-1!==i.indexOf(n)){var l=e[n]instanceof Array?e[n]:[e[n]],u=t[n]instanceof Array?t[n]:[t[n]];e[n]=l.concat(u)}else if(-1!==s.indexOf(n))for(var c in t[n])if(e[n][c]){var d=e[n][c]instanceof Array?e[n][c]:[e[n][c]],f=t[n][c]instanceof Array?t[n][c]:[t[n][c]];e[n][c]=d.concat(f)}else e[n][c]=t[n][c];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?a(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})}},76:function(e,t,n){"use strict";n.r(t);n(78);var r=n(48),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"SForm",props:{},render:function(){var e=this,t=arguments[0];return t("el-form",{ref:"form",class:"s-form",attrs:s({},s({},this.$attrs)),on:s({},s({},this.$listeners)),nativeOn:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[this.$slots.default])},methods:{handleSubmit:function(e){e.preventDefault()},validate:function(){this.$refs.form.validate()},validateField:function(){this.$refs.form.validateField()},resetFields:function(){this.$refs.form.resetFields()},clearValidate:function(){this.$refs.form.clearValidate()}},components:a({},o.a.name,o.a),install:function(e){e.component(l.name,l)}};t.default=l},78:function(e,t,n){}})}));